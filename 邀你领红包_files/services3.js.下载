console.log(11111111)

function generateUUID() {
    var d = new Date().getTime();
    if (window.performance && typeof window.performance.now === "function") {
        d += performance.now(); //use high-precision timer if available
    }
    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = (d + Math.random() * 16) % 16 | 0;
        d = Math.floor(d / 16);
        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
    });
    return uuid;
}
function saveuuid() {
    if (localStorage.getItem('uuid')) {

    } else {
        localStorage.setItem('uuid', generateUUID())
    }
    // console.log(localStorage.getItem('uuid'))
}
saveuuid()

function params(options) {
    var paramString = ''
    for (var i in options) {
        paramString += i + '=' + options[i] + '&'
    }
    return paramString.slice(0, -1);
}
axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'
var utdid = localStorage.getItem('uuid') //设备号
function getUrlParam(name) {
    //构造一个含有目标参数的正则表达式对象
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
    //匹配目标参数
    var r = window.location.search.substr(1).match(reg);
    //返回参数
    if (r != null) {
        return decodeURI(r[2]);
    } else {
        return null;
    }
}
// const Notify = vant.Notify


var URL = "https://api.gmcol.parkparkhelper.com/"

// URL = 'http://192.168.3.150:8071/'

// var param = {
//     channelId: 0,
//     phonetype: 3,
//     version: 111,
//     pagetype: 'h5',
//     pac: 'com.xiaoheihe.h5',
// }
window.$loginpost = function(url, option, cb) {
    // var timestamp = Date.parse(new Date());
    // var signKey = 'caiadvieddxakjnd'
    // var sign = md5(signKey + timestamp + url )
    // var data = {
    //     utdid: utdid,
    //     timestamp: timestamp,
    //     sign: sign,
    // }
    // data = Object.assign(data, option, param)
    console.log(URL + url+'?'+params(option))
    var data = Qs.stringify(option)
    axios.post(URL + url, data)
        .then(function (data) {
            cb(data.data)

        })
        .catch(function (error) {
            console.log(error);
        });
}