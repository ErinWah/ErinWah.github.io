<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>正在加载...</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport" />
  <link rel="Shortcut Icon" href="./images/logo.ico" type="image/x-icon" />
  <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
  <script src="js/EasyPlayer-lib.min.js"></script>
  <script src="js/liveplayer-lib.min.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2527594512969961"
    crossorigin="anonymous"></script>

  <!-- 百度统计埋点 -->
  <script>
    var _hmt = _hmt || []
      ; (function () {
        var hm = document.createElement('script')
        hm.src = 'https://hm.baidu.com/hm.js?6c5eb046ed91843c97260b95b7fda03f'
        var s = document.getElementsByTagName('script')[0]
        s.parentNode.insertBefore(hm, s)
      })()
  </script>
  <script>
    window.onerror = e => {
      // alert('window error ' + e)
    }
  </script>
  <!-- 调试用的移动端 console -->
  <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
  <script>eruda.init();</script>
  <!-- 公众号 JSSDK -->
  <script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
  <!-- 云开发 Web SDK -->
  <script src="https://res.wx.qq.com/open/js/cloudbase/1.1.0/cloud.js"></script>
  <script>
    // 公众号基本信息：请修改下列字段使用本示例
    const WX_RESOURCE_APPID = 'wxc8998b529944c2f8' /*         资源方 AppID */
    const WX_RESOURCE_ENVID = 'yun-pan-5gq8aobg812f7a63' /*                     资源方云开发环境 ID */
    const WX_OFFICIAL_ACCOUNT_APPID = 'wx1fe4b20061dffa76' /*  公众号 AppID */
    const WX_AUTH_TYPE =
      'snsapi_base' /*                     选择需要的授权方式，snsapi_base 或 snsapi_userinfo */
    const WX_REDIRECT_URI = 'http://live.frp.freefrp.net' /*         回调 URL */

    // 示例配置
    const isPersistLoginInfo = false // 是否需要保留登录态信息到 window 中，只有 snsapi_userinfo 方式需要

    if (window.wx) {
      window.cloud = wx.cloud
    }
    console.log('wx----->', window.cloud)

    //config:进行配置
    wx.config({
      debug: false, //开启debug模式，在验证签名过程中会返回对应信息
      appId: WX_OFFICIAL_ACCOUNT_APPID,
      timestamp: '1636996170',
      nonceStr: 'sc4fmpg5g1m',
      signature: '501a785e402a14260a16e1f921f64b741b9a2f45',
      jsApiList: [
        'onMenuShareTimeline',
        'onMenuShareAppMessage',
        'onMenuShareQQ',
        'onMenuShareWeibo',
        'onMenuShareQZone',
        'previewImage',
        'launchMiniprogram',
        'getWindowInfo'
      ]
    })
    //ready中调用api
    wx.ready(function () {
      console.log('通过ready接口处理成功验证');
      // var sdata = {
      //   title: '@测试竖屏模式的直播间',
      //   desc: '正在直播中，等你来棒场~',
      //   link: 'http://live.villageplatform.ltd/#/pages/portrait?liveCode=123456',
      //   imgUrl: 'http://live.villageplatform.ltd/images/jiaming.jpg',
      //   success: function () {
      //     alert('用户确认分享后执行的回调函数');
      //   },
      //   cancel: function () {
      //     alert('用户取消分享后执行的回调函数');
      //   }
      // };
      // wx.onMenuShareTimeline(sdata);
      // wx.onMenuShareAppMessage(sdata);
    });
    wx.error(function (res) {
      console.log('通过error接口处理失败验证', res);
      // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。
    });
  </script>
</head>

<body>
  <div id="app"></div>
  <!-- built files will be auto injected -->
<script type="text/javascript" src="app.js"></script></body>

</html>